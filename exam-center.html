<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âú®Á∫øËÄÉËØï‰∏≠ÂøÉ - Â§©È©¨Ë°åÁ©∫ÂàõÊÑèÁΩë</title>
    <link rel="icon" href="photo/logo.png" type="image/png">
    <link rel="shortcut icon" href="photo/logo.png" type="image/png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 15px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-weight: bold;
            color: white;
        }
        
        .logo img {
            margin-right: 10px;
            height: 45px;
            width: 45px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            background: white;
            padding: 5px;
        }
        
        .logo img:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .logo-main {
            font-size: 20px;
            margin-bottom: 2px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .logo-sub {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: normal;
        }
        
        .search {
            display: flex;
            gap: 0;
            width: 200px;
            background: white;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
        }
        
        .search:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .search input {
            padding: 8px 15px;
            width: 150px;
            border: none;
            outline: none;
            font-size: 14px;
            color: #333;
        }
        
        .search input::placeholder {
            color: #999;
        }
        
        .search button {
            padding: 8px 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            font-size: 14px;
        }
        
        .search button:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        nav {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin-top: 10px;
            overflow-x: auto;
            white-space: nowrap;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            position: sticky;
            top: 75px;
            z-index: 999;
        }
        
        nav::-webkit-scrollbar {
            height: 4px;
        }
        
        nav::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
        }
        
        nav::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            padding: 0 10px;
            margin: 0;
        }
        
        nav ul li {
            position: relative;
        }
        
        nav ul li a {
            display: block;
            padding: 14px 20px;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 15px;
            font-weight: 500;
            border-radius: 8px;
            margin: 5px 2px;
        }
        
        nav ul li a:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        nav ul li a.active {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        nav ul li .dropdown {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            min-width: 180px;
            z-index: 1000;
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            padding: 10px 0;
        }
        
        nav ul li:hover .dropdown {
            display: block;
            animation: fadeInDown 0.3s ease;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        nav ul li .dropdown li {
            display: block;
        }
        
        nav ul li .dropdown li a {
            padding: 12px 20px;
            font-size: 14px;
            margin: 0;
            border-radius: 0;
        }
        
        nav ul li .dropdown li a:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(0);
        }
        
        .banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 0;
            text-align: center;
            margin-top: 10px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.25);
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            transform: translateY(0);
            transition: all 0.3s ease;
        }
        
        .banner:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.3);
        }
        
        .banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255,255,255,0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(255,255,255,0.12) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
        }
        
        .banner::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255,255,255,0.05), transparent);
            animation: rotate 25s linear infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateX(0) translateY(0) rotate(0deg); }
            33% { transform: translateX(20px) translateY(-20px) rotate(120deg); }
            66% { transform: translateX(-20px) translateY(20px) rotate(240deg); }
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .banner-content {
            position: relative;
            z-index: 1;
            animation: fadeInUp 1s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .banner h1 {
            font-size: 28px;
            margin-bottom: 20px;
            text-shadow: 0 4px 15px rgba(0,0,0,0.3);
            font-weight: 800;
            letter-spacing: 3px;
            background: linear-gradient(135deg, rgba(255,255,255,1), rgba(255,255,255,0.8));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }
        
        .banner h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            border-radius: 2px;
        }
        
        .banner p {
            font-size: 18px;
            max-width: 100%;
            margin: 25px auto 0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.25);
            font-weight: 500;
            line-height: 1.8;
        }
        
        .main-content {
            display: flex;
            flex-direction: column;
            margin-top: 25px;
            gap: 25px;
        }
        
        .sidebar {
            width: 100%;
            background: white;
            border-radius: 16px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .sidebar:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }
        
        .sidebar-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .sidebar-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 50%, rgba(255,255,255,0.1) 0%, transparent 50%);
        }
        
        .sidebar-header h3 {
            font-size: 18px;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .sidebar-header p {
            font-size: 13px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .exam-nav {
            padding: 15px 0;
        }
        
        .exam-nav-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: #333;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 4px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .exam-nav-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.1), transparent);
            transition: width 0.3s ease;
        }
        
        .exam-nav-item:hover::before {
            width: 100%;
        }
        
        .exam-nav-item:hover {
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.15), transparent);
            border-left-color: #667eea;
            transform: translateX(5px);
        }
        
        .exam-nav-item.active {
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.2), transparent);
            border-left-color: #667eea;
            color: #667eea;
            font-weight: 500;
        }
        
        .exam-nav-item .icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 20px;
            position: relative;
            z-index: 1;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .exam-nav-item:hover .icon {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }
        
        .exam-nav-item .icon.driving {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }
        
        .exam-nav-item .icon.professional {
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            color: white;
        }
        
        .exam-nav-item .info {
            flex: 1;
            position: relative;
            z-index: 1;
        }
        
        .exam-nav-item .info h4 {
            font-size: 16px;
            margin-bottom: 3px;
        }
        
        .exam-nav-item .info p {
            font-size: 12px;
            color: #888;
        }
        
        .content {
            width: 100%;
            background: white;
            border-radius: 16px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.12);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .content:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .content-header {
            padding: 20px 15px;
            border-bottom: 1px solid #eee;
        }
        
        .content-header h2 {
            font-size: 20px;
            color: #333;
            margin-bottom: 8px;
        }
        
        .content-header p {
            color: #666;
            font-size: 13px;
        }
        
        .exam-types {
            padding: 20px 15px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .exam-type-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 25px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .exam-type-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }
        
        .exam-type-card:active {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }
        
        .exam-type-card.highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .exam-type-card.highlight::before {
            background: linear-gradient(90deg, #fff, rgba(255,255,255,0.5));
        }
        
        .exam-type-card .card-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 32px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .exam-type-card.highlight .card-icon {
            background: rgba(255,255,255,0.2);
        }
        
        .exam-type-card h3 {
            font-size: 18px;
            margin-bottom: 8px;
        }
        
        .exam-type-card p {
            font-size: 13px;
            margin-bottom: 12px;
            opacity: 0.8;
        }
        
        .exam-type-card .stats {
            display: flex;
            justify-content: center;
            gap: 15px;
            font-size: 12px;
        }
        
        .exam-type-card .stats span {
            padding: 4px 8px;
            background: rgba(0,0,0,0.1);
            border-radius: 15px;
        }
        
        .exam-type-card.highlight .stats span {
            background: rgba(255,255,255,0.2);
        }
        
        .exam-type-card .btn {
            display: inline-block;
            padding: 12px 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 25px;
            margin-top: 15px;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 15px;
            text-decoration: none;
        }
        
        .exam-type-card.highlight .btn {
            background: white;
            color: #667eea;
        }
        
        .exam-type-card:active .btn {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .driving-categories {
            padding: 20px 15px;
            display: none;
        }
        
        .driving-categories.show {
            display: block;
        }
        
        .category-tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .category-tab {
            padding: 10px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px;
        }
        
        .category-tab:active {
            border-color: #667eea;
            color: #667eea;
        }
        
        .category-tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: transparent;
            color: white;
        }
        
        .category-content {
            display: none;
        }
        
        .category-content.active {
            display: block;
        }
        
        .exam-rules {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 20px 15px;
            margin-bottom: 20px;
        }
        
        .exam-rules h3 {
            color: #667eea;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
        }
        
        .exam-rules ul {
            list-style: none;
            padding-left: 0;
        }
        
        .exam-rules li {
            padding: 6px 0;
            padding-left: 22px;
            position: relative;
            color: #666;
            font-size: 13px;
        }
        
        .exam-rules li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }
        
        .confirm-section {
            text-align: center;
            padding: 20px 15px;
        }
        
        .confirm-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            width: 100%;
            max-width: 300px;
        }
        
        .confirm-btn:active {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }
        
        .confirm-checkbox {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #666;
            flex-wrap: wrap;
        }
        
        .confirm-checkbox input {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .exam-interface {
            display: none;
            padding: 20px;
            background: #f5f7fa;
            min-height: calc(100vh - 200px);
        }
        
        .exam-interface.show {
            display: block;
        }
        
        /* ÁúüÂÆûÈ©æËÄÉÈ£éÊ†ºÊ†∑Âºè */
        .exam-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            overflow: hidden;
            max-height: calc(100vh - 240px);
            display: flex;
            flex-direction: column;
        }
        
        /* ËÄÉËØï‰∏ªÂÜÖÂÆπÂå∫Âüü - ÂèØÊªöÂä® */
        .exam-main-content {
            flex: 1;
            overflow-y: auto;
            scroll-behavior: smooth;
        }
        
        /* Ëá™ÂÆö‰πâÊªöÂä®Êù°Ê†∑Âºè */
        .exam-main-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .exam-main-content::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        
        .exam-main-content::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: background 0.3s ease;
        }
        
        .exam-main-content::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }
        
        /* FirefoxÊªöÂä®Êù°Ê†∑Âºè */
        .exam-main-content {
            scrollbar-width: thin;
            scrollbar-color: #667eea #f1f5f9;
        }
        
        /* ËÄÉËØï‰ø°ÊÅØÊ†è */
        .exam-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 35px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-bottom: none;
            margin-bottom: 0;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .exam-title {
            font-size: 24px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .exam-info {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .exam-timer {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 18px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .exam-timer .icon {
            font-size: 20px;
        }
        
        .question-progress {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .current-score {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .current-score .icon {
            font-size: 20px;
        }
        
        /* ÁªÑÂç∑Âä®ÁîªÊ†∑Âºè */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            backdrop-filter: blur(5px);
        }
        
        .loading-content {
            text-align: center;
            background: white;
            padding: 60px 80px;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            max-width: 400px;
        }
        
        .loading-spinner {
            width: 80px;
            height: 80px;
            margin: 0 auto 30px;
            border: 8px solid #f3f3f3;
            border-top: 8px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .loading-subtext {
            font-size: 16px;
            color: #666;
        }
        
        .loading-dots {
            display: inline-block;
            animation: dots 1.5s infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
        
        /* È¢òÁõÆÂå∫Âüü */
        .question-area {
            padding: 35px;
            background: #ffffff;
        }
        
        .question-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 0;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .question-header {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f1f5f9;
        }
        
        .question-num-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 22px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            margin-right: 15px;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .question-type {
            color: #64748b;
            font-size: 16px;
            font-weight: 500;
        }
        
        .question-content {
            font-size: 20px;
            color: #1e293b;
            margin-bottom: 30px;
            line-height: 1.8;
            padding: 15px 0;
            overflow: hidden;
            position: relative;
        }
        
        /* ÂõæÁâáÊ∞¥Âç∞ÂÆπÂô® */
        .image-with-watermark {
            position: relative;
            display: inline-block;
            max-width: 100%;
            margin: 20px auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
            transition: transform 0.3s ease;
        }
        
        .image-with-watermark:hover {
            transform: translateY(-2px);
        }
        
        /* Á°Æ‰øùÂõæÁâáËÉΩÂ§üÊ≠£Á°ÆÊòæÁ§∫ */
        .image-with-watermark img {
            max-width: 100% !important;
            height: auto !important;
            display: block !important;
            transition: transform 0.3s ease;
        }
        
        /* ‰∏∫ÂõæÁâáÊ∑ªÂä†Ê∞¥Âç∞ */
        .image-with-watermark::after {
            content: "Â§©È©¨Ë°åÁ©∫ÂàõÊÑèÂõ¢Èòü";
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
            color: #475569;
            font-size: 16px;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            z-index: 10;
            pointer-events: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .question-content .keyword {
            color: #667eea;
            font-weight: 700;
            background: linear-gradient(120deg, rgba(102, 126, 234, 0.1) 0%, rgba(102, 126, 234, 0.3) 100%);
            padding: 2px 8px;
            border-radius: 4px;
        }
        
        /* ÈÄâÈ°πÊ†∑Âºè - ÁúüÂÆûÈ©æËÄÉÈ£éÊ†º */
        .options {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .option {
            display: flex;
            align-items: flex-start;
            padding: 20px 28px;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .option:hover {
            border-color: #6366f1;
            background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%);
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);
        }
        
        .option.selected {
            border-color: #6366f1;
            background: linear-gradient(135deg, #eef2ff 0%, #c7d2fe 100%);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
        }
        
        .option.correct {
            border-color: #10b981;
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        }
        
        .option.wrong {
            border-color: #ef4444;
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        }
        
        .option input {
            display: none;
        }
        
        /* ÈÄâÈ°πÂ≠óÊØç */
        .option-letter {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: white;
            border: 2px solid #cbd5e1;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-weight: 700;
            color: #475569;
            flex-shrink: 0;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .option.selected .option-letter {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
            transform: scale(1.1);
        }
        
        .option.correct .option-letter {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-color: #10b981;
            color: white;
            transform: scale(1.1);
        }
        
        .option.wrong .option-letter {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            border-color: #ef4444;
            color: white;
            transform: scale(1.1);
        }
        
        .option-text {
            flex: 1;
            font-size: 18px;
            color: #1e293b;
            line-height: 1.7;
            font-weight: 500;
        }
        
        /* ËøõÂ∫¶Êù°Ê†∑Âºè */
        .progress-section {
            padding: 25px 35px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-bottom: 1px solid #e2e8f0;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }
        
        .progress-container {
            margin-bottom: 0;
        }
        
        .progress-label {
            font-size: 16px;
            font-weight: 600;
            color: #475569;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .progress-bar {
            width: 100%;
            height: 16px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
            border: 1px solid rgba(102, 126, 234, 0.2);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            transition: width 0.5s ease, background 0.3s ease;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: progressShine 2s infinite;
        }
        
        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* È¢òÁõÆÊµèËßàÂå∫ÂüüÊ†∑Âºè */
        .questions-browser {
            padding: 25px 35px;
            background: white;
            border-bottom: 1px solid #e2e8f0;
            max-height: 220px;
            overflow-y: auto;
        }
        
        .questions-browser::-webkit-scrollbar {
            width: 8px;
        }
        
        .questions-browser::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        
        .questions-browser::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        .questions-browser::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        .questions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
            gap: 12px;
        }
        
        .question-number {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .question-number:hover {
            background: #e0e7ff;
            border-color: #6366f1;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
        }
        
        .question-number.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .question-number.answered {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-color: #10b981;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .question-number.unanswered {
            background: #f8fafc;
            color: #64748b;
            border-color: #e2e8f0;
        }
        
        .question-number.answered:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            transform: translateY(-2px);
        }
        
        .question-number.unanswered:hover {
            background: #f1f5f9;
            transform: translateY(-2px);
        }
        
        /* È¢òÁõÆÂõæÁâáÊ†∑Âºè */
        .question-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 15px auto;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        /* Á°Æ‰øùÂõæÁâáÂú®‰∏çÂêåËÆæÂ§á‰∏äÈÉΩËÉΩÊ≠£Â∏∏ÊòæÁ§∫ */
        @media (max-width: 768px) {
            .question-image {
                max-width: 100%;
                height: auto;
            }
        }
        
        /* È¢òÁõÆÂØºËà™Ê†è */
        .exam-footer {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 25px 35px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }
        
        .nav-btns {
            display: flex;
            gap: 16px;
        }
        
        .nav-btn {
            padding: 12px 28px;
            border: 2px solid #cbd5e1;
            background: white;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            font-weight: 600;
            color: #475569;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .nav-btn:hover:not(:disabled) {
            border-color: #667eea;
            color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.25);
        }
        
        .nav-btn:disabled {
            background: #f1f5f9;
            color: #94a3b8;
            cursor: not-allowed;
            border-color: #e2e8f0;
            box-shadow: none;
        }
        
        .submit-btn {
            padding: 14px 40px;
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 700;
            font-size: 18px;
            box-shadow: 0 4px 16px rgba(239, 68, 68, 0.25);
        }
        
        .submit-btn:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.35);
        }
        
        /* ‰∫§Âç∑Á°ÆËÆ§ÂºπÁ™ó */
        .confirm-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        
        .confirm-content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        
        .confirm-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        
        .confirm-text {
            margin-bottom: 25px;
            color: #666;
            line-height: 1.6;
        }
        
        .confirm-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .confirm-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s ease;
        }
        
        .confirm-btn.primary {
            background: #e74c3c;
            color: white;
        }
        
        .confirm-btn.primary:hover {
            background: #c0392b;
        }
        
        .confirm-btn.secondary {
            background: #95a5a6;
            color: white;
        }
        
        .confirm-btn.secondary:hover {
            background: #7f8c8d;
        }
        
        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 50px;
        }
        
        .disclaimer {
            margin-top: 20px;
            padding: 20px;
            background-color: #2a2a2a;
            border-radius: 8px;
            text-align: left;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .disclaimer h3 {
            color: #0066cc;
            margin-bottom: 15px;
            font-size: 18px;
            text-align: center;
        }
        
        .disclaimer p {
            margin-bottom: 10px;
            line-height: 1.6;
            font-size: 14px;
            color: #ccc;
        }
        
        @media (max-width: 1200px) {
            .container {
                width: 95%;
            }
            
            .exam-container {
                max-width: 100%;
                margin: 0 10px;
                max-height: calc(100vh - 200px);
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
                width: 100%;
            }
            
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
            }
            
            .exam-types {
                grid-template-columns: 1fr;
            }
            
            .category-tabs {
                justify-content: center;
            }
            
            .exam-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
                padding: 20px;
            }
            
            .exam-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .exam-timer, .question-progress, .current-score {
                font-size: 16px;
                padding: 8px 16px;
            }
            
            .progress-section, .questions-browser, .question-area {
                padding: 20px;
            }
            
            .questions-grid {
                grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
                gap: 10px;
            }
            
            .question-number {
                width: 40px;
                height: 40px;
                font-size: 14px;
            }
            
            .question-content {
                font-size: 18px;
            }
            
            .option {
                padding: 15px 20px;
            }
            
            .option-text {
                font-size: 16px;
            }
            
            .exam-footer {
                flex-direction: column;
                gap: 15px;
                padding: 20px;
            }
            
            .nav-btns {
                width: 100%;
                justify-content: space-between;
            }
            
            .nav-btn, .submit-btn {
                width: 48%;
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .exam-header {
                padding: 15px;
            }
            
            .exam-title {
                font-size: 20px;
            }
            
            .progress-section, .questions-browser, .question-area {
                padding: 15px;
            }
            
            .questions-grid {
                grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));
                gap: 8px;
            }
            
            .question-number {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
            
            .question-content {
                font-size: 16px;
            }
            
            .option {
                padding: 12px 16px;
            }
            
            .option-letter {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }
            
            .option-text {
                font-size: 14px;
            }
            
            .nav-btn, .submit-btn {
                padding: 10px 15px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <img src="photo/logo.png" alt="Logo">
                <div>
                    <div class="logo-main">Â§©È©¨Ë°åÁ©∫ÂàõÊÑèÁΩë</div>
                    <div class="logo-sub">TianMa Creative Network</div>
                </div>
            </div>
            <div class="search" style="position: relative;">
                <input type="text" placeholder="ÊêúÁ¥¢...">
                <button>üîç</button>
            </div>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <ul>
                <li><a href="index.html">È¶ñÈ°µ</a></li>
                <li><a href="about.html">ÂÖ≥‰∫éÊàë‰ª¨</a></li>
                <li>
                    <a href="#">ÊúçÂä°Á≥ªÁªü</a>
                    <ul class="dropdown">
                        <li><a href="team-info.html">Âõ¢ÈòüÊ°£Ê°à‰ø°ÊÅØÊü•ËØ¢Á≥ªÁªü</a></li>
                        <li><a href="https://v.kaoshixing.com/exam/aiInterview/pc/#/list" target="_blank">Âõ¢ÈòüËÄÉÊ†∏Á≥ªÁªü</a></li>
                    </ul>
                </li>
                <li><a href="https://work.weixin.qq.com/wework_admin/frame#/index" target="_blank">Â∑•‰ΩúÁ≥ªÁªü</a></li>
                <li>
                    <a href="#">‰∏ãËΩΩ‰∏ìÂå∫</a>
                    <ul class="dropdown">
                        <li><a href="download-materials.html">ËµÑÊñô</a></li>
                        <li><a href="download-software.html">ËΩØ‰ª∂</a></li>
                    </ul>
                </li>
                <li><a href="video.html">ËßÜÈ¢ëÂå∫</a></li>
            </ul>
        </div>
    </nav>
    
    <div class="banner">
        <div class="container banner-content">
            <h1>Âú®Á∫øËÄÉËØï‰∏≠ÂøÉ</h1>
            <p>‰∏ì‰∏öÂú®Á∫øËÄÉËØïÂπ≥Âè∞ÔºåÊèê‰æõÈ©æËÄÉ„ÄÅËÅå‰∏öËµÑÊ†ºËÄÉËØïÁ≠âÂ§öÁßçËÄÉËØïÊúçÂä°</p>
        </div>
    </div>
    
    <div class="container main-content">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3>ËÄÉËØïÂàÜÁ±ª</h3>
                <p>ÈÄâÊã©ÊÇ®Ë¶ÅÂèÇÂä†ÁöÑËÄÉËØïÁ±ªÂûã</p>
            </div>
            <div class="exam-nav">
                <div class="exam-nav-item active" data-exam="driving">
                    <div class="icon driving">üöó</div>
                    <div class="info">
                        <h4>È©æËÄÉ</h4>
                        <p>ÁßëÁõÆ‰∏Ä/ÁßëÁõÆÂõõ</p>
                    </div>
                </div>
                <div class="exam-nav-item" data-exam="professional">
                    <div class="icon professional">üéì</div>
                    <div class="info">
                        <h4>‰∏ì‰∏ö‰∫∫ÊâçÊµãËØï</h4>
                        <p>Â§©È©¨Ë°åÁ©∫ÂàõÊÑèÂõ¢Èòü</p>
                    </div>
                </div>
            </div>
        </aside>
        
        <main class="content">
            <!-- ËÄÉËØïÁ±ªÂûãÈÄâÊã©ÁïåÈù¢ -->
            <div id="examTypesSection">
                <div class="content-header">
                    <h2>ÈÄâÊã©ËÄÉËØïÁ±ªÂûã</h2>
                    <p>ÁÇπÂáªÊÇ®Ë¶ÅÂèÇÂä†ÁöÑËÄÉËØïÁ±ªÂûãÂºÄÂßãÂ§áËÄÉ</p>
                </div>
                
                <div class="exam-types">
                    <div class="exam-type-card highlight" data-exam="driving">
                        <div class="card-icon">üöó</div>
                        <h3>È©æËÄÉ</h3>
                        <p>Êú∫Âä®ËΩ¶È©æÈ©∂ËÄÉËØï</p>
                        <div class="stats">
                            <span>È¢òÂ∫ì: 2000+</span>
                            <span>ÈÄöËøáÁéá: 98%</span>
                        </div>
                        <span class="btn">ÂºÄÂßãÈ©æËÄÉ</span>
                    </div>
                    
                    <div class="exam-type-card" data-exam="professional">
                        <div class="card-icon">üéì</div>
                        <h3>Â§©È©¨Ë°åÁ©∫ÂàõÊÑèÂõ¢Èòü‰∏ì‰∏ö‰∫∫ÊâçÊ®°ÊãüÊµãËØï</h3>
                        <p>‰∏ì‰∏öËÉΩÂäõËØÑ‰º∞</p>
                        <div class="stats">
                            <span>È¢òÂ∫ì: 1500+</span>
                            <span>ÈÄöËøáÁéá: 95%</span>
                        </div>
                        <span class="btn">ÂºÄÂßãÊµãËØï</span>
                    </div>
                </div>
            </div>
            
            <!-- È©æËÄÉÂàÜÁ±ªÁïåÈù¢ -->
            <div id="drivingCategories" class="driving-categories">
                <div class="content-header">
                    <h2>È©æËÄÉÂàÜÁ±ª</h2>
                    <p>ÈÄâÊã©ÊÇ®Ë¶ÅÂ§áËÄÉÁöÑÁßëÁõÆ</p>
                </div>
                
                <div class="category-tabs">
                    <div class="category-tab active" data-category="subject1">ÁßëÁõÆ‰∏Ä</div>
                    <div class="category-tab" data-category="subject4">ÁßëÁõÆÂõõ</div>
                </div>
                
                <!-- ÁßëÁõÆ‰∏Ä -->
                <div id="subject1" class="category-content active">
                    <div class="exam-rules">
                        <h3>üìö ÁßëÁõÆ‰∏ÄËÄÉËØïËßÑÂàô</h3>
                        <ul>
                            <li>ËÄÉËØïÊó∂Èó¥Ôºö45ÂàÜÈíü</li>
                            <li>È¢òÁõÆÊï∞ÈáèÔºö100È¢ò</li>
                            <li>ÂèäÊ†ºÂàÜÊï∞Ôºö90ÂàÜ</li>
                            <li>È¢òÁõÆÁ±ªÂûãÔºöÂà§Êñ≠È¢ò„ÄÅÂçïÈÄâÈ¢ò</li>
                            <li>Á≠îÈ¢òÊó∂ÂøÖÈ°ªËÆ§ÁúüÂÆ°È¢òÔºå‰ªîÁªÜ‰ΩúÁ≠î</li>
                            <li>‰∫§Âç∑Âêé‰∏çÂèØ‰øÆÊîπÁ≠îÊ°à</li>
                        </ul>
                    </div>
                    
                    <div class="confirm-section">
                        <div class="confirm-checkbox">
                            <input type="checkbox" id="subject1Confirm">
                            <label for="subject1Confirm">ÊàëÂ∑≤ÈòÖËØªÂπ∂ÂêåÊÑèËÄÉËØïËßÑÂàô</label>
                        </div>
                        <button class="confirm-btn" id="startSubject1" disabled>ÂºÄÂßãÁßëÁõÆ‰∏ÄËÄÉËØï</button>
                    </div>
                </div>
                
                <!-- ÁßëÁõÆÂõõ -->
                <div id="subject4" class="category-content">
                    <div class="exam-rules">
                        <h3></h3>üìö ÁßëÁõÆÂõõËÄÉËØïËßÑÂàô</h3>
                        <ul>
                            <li>ËÄÉËØïÊó∂Èó¥Ôºö30ÂàÜÈíü</li>
                            <li>È¢òÁõÆÊï∞ÈáèÔºö50È¢ò</li>
                            <li>ÂèäÊ†ºÂàÜÊï∞Ôºö90ÂàÜ</li>
                            <li>È¢òÁõÆÁ±ªÂûãÔºöÂà§Êñ≠È¢ò„ÄÅÂçïÈÄâÈ¢ò„ÄÅÂ§öÈÄâÈ¢ò</li>
                            <li>ÂåÖÂê´ÂÆâÂÖ®ÊñáÊòéÈ©æÈ©∂Â∏∏ËØÜÂÜÖÂÆπ</li>
                            <li>ËÄÉËØïÂâçÈúÄÂÆåÊàêÁßëÁõÆ‰∏ÄËÄÉËØï</li>
                        </ul>
                    </div>
                    
                    <div class="confirm-section">
                        <div class="confirm-checkbox">
                            <input type="checkbox" id="subject4Confirm">
                            <label for="subject4Confirm">ÊàëÂ∑≤ÈòÖËØªÂπ∂ÂêåÊÑèËÄÉËØïËßÑÂàô</label>
                        </div>
                        <button class="confirm-btn" id="startSubject4" disabled>ÂºÄÂßãÁßëÁõÆÂõõËÄÉËØï</button>
                    </div>
                </div>
            </div>
            
            <!-- ‰∏ì‰∏ö‰∫∫ÊâçÊµãËØïÂàÜÁ±ªÁïåÈù¢ -->
            <div id="professionalCategories" class="driving-categories">
                <div class="content-header">
                    <h2>‰∏ì‰∏ö‰∫∫ÊâçÊµãËØï</h2>
                    <p>ÈÄâÊã©ÊÇ®Ë¶ÅÂèÇÂä†ÁöÑÊµãËØïÁ±ªÂûã</p>
                </div>
                
                <div class="category-tabs">
                    <div class="category-tab active" data-category="creative">ÂàõÊÑèËÉΩÂäõÊµãËØï</div>
                    <div class="category-tab" data-category="technical">ÊäÄÊúØËÉΩÂäõÊµãËØï</div>
                </div>
                
                <!-- ÂàõÊÑèËÉΩÂäõÊµãËØï -->
                <div id="creative" class="category-content active">
                    <div class="exam-rules">
                        <h3>üìö ÂàõÊÑèËÉΩÂäõÊµãËØïËßÑÂàô</h3>
                        <ul>
                            <li>ËÄÉËØïÊó∂Èó¥Ôºö60ÂàÜÈíü</li>
                            <li>È¢òÁõÆÊï∞ÈáèÔºö80È¢ò</li>
                            <li>ÂèäÊ†ºÂàÜÊï∞Ôºö85ÂàÜ</li>
                            <li>È¢òÁõÆÁ±ªÂûãÔºöÂçïÈÄâÈ¢ò„ÄÅÂ§öÈÄâÈ¢ò„ÄÅÂà§Êñ≠È¢ò</li>
                            <li>ÊµãËØïÂàõÊÑèÊÄùÁª¥ÂíåÂàõÊñ∞ËÉΩÂäõ</li>
                            <li>‰∫§Âç∑Âêé‰∏çÂèØ‰øÆÊîπÁ≠îÊ°à</li>
                        </ul>
                    </div>
                    
                    <div class="confirm-section">
                        <div class="confirm-checkbox">
                            <input type="checkbox" id="creativeConfirm">
                            <label for="creativeConfirm">ÊàëÂ∑≤ÈòÖËØªÂπ∂ÂêåÊÑèÊµãËØïËßÑÂàô</label>
                        </div>
                        <button class="confirm-btn" id="startCreative" disabled>ÂºÄÂßãÂàõÊÑèËÉΩÂäõÊµãËØï</button>
                    </div>
                </div>
                
                <!-- ÊäÄÊúØËÉΩÂäõÊµãËØï -->
                <div id="technical" class="category-content">
                    <div class="exam-rules">
                        <h3>üìö ÊäÄÊúØËÉΩÂäõÊµãËØïËßÑÂàô</h3>
                        <ul>
                            <li>ËÄÉËØïÊó∂Èó¥Ôºö90ÂàÜÈíü</li>
                            <li>È¢òÁõÆÊï∞ÈáèÔºö100È¢ò</li>
                            <li>ÂèäÊ†ºÂàÜÊï∞Ôºö90ÂàÜ</li>
                            <li>È¢òÁõÆÁ±ªÂûãÔºöÂçïÈÄâÈ¢ò„ÄÅÂ§öÈÄâÈ¢ò„ÄÅÂ°´Á©∫È¢ò</li>
                            <li>ÊµãËØïÊäÄÊúØÁü•ËØÜÂíåËß£ÂÜ≥ÈóÆÈ¢òËÉΩÂäõ</li>
                            <li>‰∫§Âç∑Âêé‰∏çÂèØ‰øÆÊîπÁ≠îÊ°à</li>
                        </ul>
                    </div>
                    
                    <div class="confirm-section">
                        <div class="confirm-checkbox">
                            <input type="checkbox" id="technicalConfirm">
                            <label for="technicalConfirm">ÊàëÂ∑≤ÈòÖËØªÂπ∂ÂêåÊÑèÊµãËØïËßÑÂàô</label>
                        </div>
                        <button class="confirm-btn" id="startTechnical" disabled>ÂºÄÂßãÊäÄÊúØËÉΩÂäõÊµãËØï</button>
                    </div>
                </div>
            </div>
            
            <!-- ËÄÉËØïÁïåÈù¢ -->
            <div id="examInterface" class="exam-interface">
                <div class="exam-container">
                    <div class="exam-header">
                        <div class="exam-title" id="examTitle">ÁßëÁõÆ‰∏ÄËÄÉËØï</div>
                        <div class="exam-info">
                            <div class="exam-timer">
                                <span class="icon">‚è±Ô∏è</span>
                                <span id="timer">45:00</span>
                            </div>
                            <div class="question-progress">
                                <span id="currentNum">1</span>/<span id="totalNum">100</span>
                            </div>
                            <div class="current-score">
                                <span class="icon">üìä</span>
                                <span id="score">0</span>ÂàÜ
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÂèØÊªöÂä®‰∏ªÂÜÖÂÆπÂå∫Âüü -->
                    <div class="exam-main-content">
                        <!-- ËøõÂ∫¶Êù°Âå∫Âüü -->
                        <div class="progress-section">
                            <div class="progress-container">
                                <div class="progress-label">
                                    <span>ËÄÉËØïËøõÂ∫¶</span>
                                    <span id="progressText">1%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- È¢òÁõÆÊµèËßàÂå∫Âüü -->
                        <div class="questions-browser">
                            <div class="progress-label">
                                <span>È¢òÁõÆÊµèËßà</span>
                                <span>ÁÇπÂáªÈ¢òÁõÆË∑≥ËΩ¨Âà∞ÂØπÂ∫îÈ¢òÁõÆ</span>
                            </div>
                            <div class="questions-grid" id="questionsGrid">
                                <!-- È¢òÁõÆÁºñÂè∑Â∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                        
                        <div id="questionArea" class="question-area">
                            <!-- È¢òÁõÆÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÂä†ËΩΩ -->
                        </div>
                    </div>
                    
                    <div class="exam-footer">
                        <div class="nav-btns">
                            <button class="nav-btn" id="prevBtn">‰∏ä‰∏ÄÈ¢ò</button>
                            <button class="nav-btn" id="nextBtn">‰∏ã‰∏ÄÈ¢ò</button>
                        </div>
                        <button class="submit-btn" id="submitBtn">‰∫§Âç∑</button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <footer>
        <div class="container">
            <p>¬© 2024 Â§©È©¨Ë°åÁ©∫ÂàõÊÑèÁΩë. ‰øùÁïôÊâÄÊúâÊùÉÂà©. <a href="http://m.tmxkcy.xyz" target="_blank" style="color: #0066cc; text-decoration: none;">ÊâãÊú∫Áâà</a></p>
            <div class="disclaimer">
                <h3>ÂÖçË¥£Â£∞Êòé</h3>
                <p>Êú¨ÁΩëÁ´ôÂ∞öÊú™ËøõË°åICPÂ§áÊ°àÔºå‰ªÖ‰æõÂ≠¶‰π†Âíå‰∫§ÊµÅ‰ΩøÁî®„ÄÇÁΩëÁ´ôÂÜÖÂÆπ‰ªÖ‰ª£Ë°®‰ΩúËÄÖ‰∏™‰∫∫ËßÇÁÇπÔºå‰∏ç‰ª£Ë°®‰ªª‰ΩïÂÆòÊñπÁ´ãÂú∫„ÄÇ</p>
                <p>Êú¨ÁΩëÁ´ôÊèê‰æõÁöÑ‰ø°ÊÅØ‰ªÖ‰æõÂèÇËÄÉÔºå‰∏çÊûÑÊàê‰ªª‰ΩïÊäïËµÑÂª∫ËÆÆÊàñÂÖ∂‰ªñÂª∫ËÆÆ„ÄÇ‰ΩøÁî®Êú¨ÁΩëÁ´ô‰ø°ÊÅØÊâÄÈÄ†ÊàêÁöÑ‰ªª‰ΩïÂêéÊûúÔºåÊú¨ÁΩëÁ´ô‰∏çÊâøÊãÖ‰ªª‰ΩïË¥£‰ªª„ÄÇ</p>
                <p>Â¶ÇÊúâ‰æµÊùÉÔºåËØ∑ËÅîÁ≥ªÊàë‰ª¨Âà†Èô§Áõ∏ÂÖ≥ÂÜÖÂÆπ„ÄÇËÅîÁ≥ªÊñπÂºèÔºötmxkcytd@foxmail.com</p>
            </div>
        </div>
    </footer>
    

    <script>
        // ËÄÉËØïÊï∞ÊçÆ
        const examData = {
            subject1: {
                title: 'ÁßëÁõÆ‰∏ÄËÄÉËØï',
                time: 45,
                totalQuestions: 100,
                passingScore: 90,
                questions: [],
                initialLoad: 10 // ÂàùÂßãÂä†ËΩΩÈ¢òÁõÆÊï∞Èáè
            },
            subject4: {
                title: 'ÁßëÁõÆÂõõËÄÉËØï',
                time: 30,
                totalQuestions: 50,
                passingScore: 90,
                questions: [],
                initialLoad: 10 // ÂàùÂßãÂä†ËΩΩÈ¢òÁõÆÊï∞Èáè
            },
            creative: {
                title: 'ÂàõÊÑèËÉΩÂäõÊµãËØï',
                time: 60,
                totalQuestions: 80,
                passingScore: 85,
                questions: []
            },
            technical: {
                title: 'ÊäÄÊúØËÉΩÂäõÊµãËØï',
                time: 90,
                totalQuestions: 100,
                passingScore: 90,
                questions: []
            }
        }
        
        // ÁîüÊàêÈ¢òÂ∫ì - ‰ΩøÁî®APIËé∑ÂèñÁúüÂÆûÈ©æËÄÉÈ¢òÁõÆ
        async function generateQuestions(subject, count) {
            // Âè™ÂØπÈ©æËÄÉÁßëÁõÆ‰ΩøÁî®APIÔºå‰∏ì‰∏ö‰∫∫ÊâçÊµãËØï‰ªç‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ
            if (subject === 'creative' || subject === 'technical') {
                const questions = [];
                const questionTemplates = {
                    creative: [
                        { type: 'ÂçïÈÄâ', text: '‰ª•‰∏ãÂì™ÁßçÊñπÊ≥ïÊúÄËÉΩÊøÄÂèëÂàõÊÑèÔºü', options: ['Â§¥ËÑëÈ£éÊö¥', 'Áã¨Ëá™ÊÄùËÄÉ', 'ÈòÖËØªÊñáÁåÆ', 'Ê®°‰ªø‰ªñ‰∫∫'], answer: 'A' },
                        { type: 'Âà§Êñ≠', text: 'ÂàõÊÑèÈúÄË¶ÅÂ§©ËµãÔºåÊôÆÈÄö‰∫∫Êó†Ê≥ïÂüπÂÖª„ÄÇ', answer: 'ÈîôËØØ' },
                        { type: 'Â§öÈÄâ', text: 'ÂàõÊÑè‰∫ßÁîüÁöÑÊù°‰ª∂ÂåÖÊã¨Ôºü', options: ['Â•ΩÂ•áÂøÉ', 'Áü•ËØÜÁßØÁ¥Ø', 'ÂºÄÊîæÂøÉÊÄÅ', 'Âõ∫ÂÆöÊÄùÁª¥'], answer: 'ABC' },
                        { type: 'ÂçïÈÄâ', text: '‰ª•‰∏ãÂì™‰∏™ÊòØÂèëÊï£ÊÄùÁª¥ÁöÑÁâπÁÇπÔºü', options: ['Âçï‰∏ÄÊñπÂêë', 'Â§öËßíÂ∫¶ÊÄùËÄÉ', 'ÈÄªËæëÊé®ÁêÜ', 'Âõ∫ÂÆöÊ®°Âºè'], answer: 'B' },
                        { type: 'Âà§Êñ≠', text: 'ÂàõÊÑèÂèØ‰ª•ÈÄöËøáÁ≥ªÁªüÁöÑËÆ≠ÁªÉÊù•ÊèêÂçá„ÄÇ', answer: 'Ê≠£Á°Æ' },
                        { type: 'ÂçïÈÄâ', text: 'ÂÖ≠È°∂ÊÄùËÄÉÂ∏ΩÊ≥ï‰∏≠ÔºåËìùËâ≤Â∏ΩÂ≠ê‰ª£Ë°®‰ªÄ‰πàÔºü', options: ['ÂàõÊñ∞', 'ÈÄªËæë', 'ÊÉÖÊÑü', 'ÊéßÂà∂'], answer: 'D' },
                        { type: 'Â§öÈÄâ', text: 'ÂàõÊÑèËØÑ‰º∞ÁöÑÊ†áÂáÜÂåÖÊã¨Ôºü', options: ['Êñ∞È¢ñÊÄß', 'ÂèØË°åÊÄß', '‰ª∑ÂÄºÊÄß', 'Â§çÊùÇÊÄß'], answer: 'ABC' },
                        { type: 'Âà§Êñ≠', text: 'Âõ¢ÈòüÂêà‰ΩúÊØî‰∏™‰∫∫Âàõ‰ΩúÊõ¥ÊúâÂà©‰∫é‰∫ßÁîüÂàõÊÑè„ÄÇ', answer: 'Ê≠£Á°Æ' }
                    ],
                    technical: [
                        { type: 'ÂçïÈÄâ', text: '‰ª•‰∏ãÂì™ÁßçËØ≠Ë®ÄÊòØÁºñËØëÂûãËØ≠Ë®ÄÔºü', options: ['JavaScript', 'Python', 'C++', 'Ruby'], answer: 'C' },
                        { type: 'Âà§Êñ≠', text: 'HTTPÂçèËÆÆÊòØÊó†Áä∂ÊÄÅÁöÑ„ÄÇ', answer: 'Ê≠£Á°Æ' },
                        { type: 'Â§öÈÄâ', text: 'Â∏∏ËßÅÁöÑÊéíÂ∫èÁÆóÊ≥ïÂåÖÊã¨Ôºü', options: ['ÂÜíÊ≥°ÊéíÂ∫è', 'Âø´ÈÄüÊéíÂ∫è', '‰∫åÂèâÊ†ëÊéíÂ∫è', 'Á∫øÊÄßÊéíÂ∫è'], answer: 'ABD' },
                        { type: 'ÂçïÈÄâ', text: '‰ª•‰∏ãÂì™‰∏™‰∏çÊòØËÆæËÆ°Ê®°ÂºèÔºü', options: ['Âçï‰æãÊ®°Âºè', 'Â∑•ÂéÇÊ®°Âºè', 'ËßÇÂØüËÄÖÊ®°Âºè', 'Âæ™ÁéØÊ®°Âºè'], answer: 'D' },
                        { type: 'Âà§Êñ≠', text: 'Êï∞ÊçÆÂ∫ìÁ¥¢ÂºïÂèØ‰ª•ÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ', answer: 'Ê≠£Á°Æ' },
                        { type: 'ÂçïÈÄâ', text: '‰ª•‰∏ãÂì™ÁßçÊï∞ÊçÆÁªìÊûÑÊòØÁ∫øÊÄßÁªìÊûÑÔºü', options: ['Ê†ë', 'Âõæ', 'ÈìæË°®', 'Â†Ü'], answer: 'C' },
                        { type: 'Â§öÈÄâ', text: 'Â∏∏ËßÅÁöÑÁΩëÁªúÂçèËÆÆÂåÖÊã¨Ôºü', options: ['TCP', 'UDP', 'IP', 'HTML'], answer: 'ABC' },
                        { type: 'Âà§Êñ≠', text: 'Èù¢ÂêëÂØπË±°ÁºñÁ®ãÁöÑ‰∏âÂ§ßÁâπÊÄßÊòØÂ∞ÅË£Ö„ÄÅÁªßÊâøÂíåÂ§öÊÄÅ„ÄÇ', answer: 'Ê≠£Á°Æ' }
                    ]
                };
                
                const templates = questionTemplates[subject] || questionTemplates.creative;
                for (let i = 0; i < count; i++) {
                    const template = templates[i % templates.length];
                    const question = {
                        id: i + 1,
                        type: template.type,
                        options: template.options || null,
                        answer: template.answer,
                        explain: 'Ê®°ÊãüÈ¢òÁõÆÁöÑËß£Èáä' // Ê∑ªÂä†Ëß£ÈáäÂ≠óÊÆµ
                    };
                    
                    if (template.type === 'Âà§Êñ≠') {
                        question.text = `${i + 1}„ÄÅ${template.text}`;
                    } else if (template.type === 'ÂçïÈÄâ') {
                        question.text = `${i + 1}„ÄÅ${template.text}`;
                    } else if (template.type === 'Â§öÈÄâ') {
                        question.text = `${i + 1}„ÄÅ${template.text}`;
                    }
                    
                    questions.push(question);
                }
                
                return questions;
            }
            
            // È©æËÄÉÁßëÁõÆ‰ΩøÁî®APIËé∑ÂèñÁúüÂÆûÈ¢òÁõÆ
            const questions = [];
            const apiSubject = subject === 'subject1' ? 1 : 4;
            const startTime = performance.now();
            
            // Âπ∂Ë°åËé∑ÂèñÈ¢òÁõÆÔºåÊèêÈ´òÊÄßËÉΩ
            const fetchPromises = [];
            
            // ÂàõÂª∫Â§ö‰∏™Âπ∂ÂèëËØ∑Ê±Ç
            for (let i = 0; i < count; i++) {
                fetchPromises.push(
                    fetch(`https://v2.xxapi.cn/api/jiakao?subject=${apiSubject}`)
                        .then(response => response.json())
                        .catch(error => {
                            console.error('APIËØ∑Ê±ÇÂºÇÂ∏∏:', error);
                            return null;
                        })
                );
            }
            
            // Á≠âÂæÖÊâÄÊúâËØ∑Ê±ÇÂÆåÊàê
            const results = await Promise.all(fetchPromises);
            
            // Â§ÑÁêÜÁªìÊûú
            results.forEach((data, i) => {
                try {
                    if (data && data.code === 200 && data.data) {
                        const apiData = data.data;
                        let questionText = `${i + 1}„ÄÅ${apiData.question}`;
                        
                        console.log('APIËøîÂõûÁöÑÊï∞ÊçÆ:', apiData); // Ê∑ªÂä†Ë∞ÉËØïÊó•Âøó
                        
                        // Ê£ÄÊü•Â§öÁßçÂèØËÉΩÁöÑÂõæÁâáÂ≠óÊÆµÂêç
                        const possibleImageFields = ['image', 'img', 'pic', 'picture', 'images'];
                        let foundImageUrl = '';
                        
                        for (const field of possibleImageFields) {
                            if (apiData[field] && apiData[field].trim() !== '') {
                                foundImageUrl = apiData[field];
                                console.log(`ÊâæÂà∞ÂõæÁâáÂ≠óÊÆµ ${field}: ${foundImageUrl}`); // Ê∑ªÂä†Ë∞ÉËØïÊó•Âøó
                                break;
                            }
                        }
                        
                        // Â¶ÇÊûúÊâæÂà∞ÂõæÁâáURLÔºåÊ∑ªÂä†Âà∞È¢òÁõÆÊñáÊú¨‰∏≠
                        if (foundImageUrl) {
                            // Á°Æ‰øùÂõæÁâáURLÊòØÂÆåÊï¥ÁöÑ
                            let imageUrl = foundImageUrl;
                            if (!imageUrl.startsWith('http://') && !imageUrl.startsWith('https://')) {
                                if (imageUrl.startsWith('//')) {
                                    imageUrl = `https:${imageUrl}`; // Â§ÑÁêÜÁõ∏ÂØπÂçèËÆÆ
                                } else {
                                    // Ê£ÄÊü•ÊòØÂê¶ÊòØÊú¨Âú∞ÂõæÁâáËµÑÊ∫ê
                                    const localImages = {
                                        'Ê†áÂøó': 'photo/ËÄÉËØï.jpeg',
                                        'ÂºØÈÅì': 'photo/ËÄÉËØï2.jpeg',
                                        'Á™ÑÊ°•': 'photo/ËÄÉËØï.jpeg',
                                        'Ë∑ØÈù¢ÂèòÁ™Ñ': 'photo/ËÄÉËØï2.jpeg'
                                    };
                                    
                                    // Ê†πÊçÆÈ¢òÁõÆÂÖ≥ÈîÆËØçÈÄâÊã©Êú¨Âú∞ÂõæÁâá
                                    let localImagePath = '';
                                    for (const [keyword, path] of Object.entries(localImages)) {
                                        if (apiData.question.includes(keyword)) {
                                            localImagePath = path;
                                            break;
                                        }
                                    }
                                    
                                    if (localImagePath) {
                                        imageUrl = localImagePath; // ‰ΩøÁî®Êú¨Âú∞ÂõæÁâá
                                        console.log('‰ΩøÁî®Êú¨Âú∞ÂõæÁâá:', imageUrl);
                                    } else {
                                        imageUrl = `https://${imageUrl}`; // Ê∑ªÂä†ÈªòËÆ§ÂçèËÆÆ
                                    }
                                }
                            }
                            
                            questionText += `<br><img src="${imageUrl}" alt="È¢òÁõÆÂõæÁâá" title="È¢òÁõÆÂõæÁâá">`;
                        } else {
                            console.log('Êú™ÊâæÂà∞ÂõæÁâáÂ≠óÊÆµ'); // Ê∑ªÂä†Ë∞ÉËØïÊó•Âøó
                        }
                        
                        let question = {
                            id: i + 1,
                            text: questionText,
                            answer: apiData.answer,
                            explain: apiData.explain || '',
                            chapter: apiData.chapter || ''
                        };
                        
                        // Ê†πÊçÆAPIËøîÂõûÁöÑÊï∞ÊçÆÂà§Êñ≠È¢òÁõÆÁ±ªÂûã
                        if (apiData.option1 || apiData.option2 || apiData.option3 || apiData.option4) {
                            // ÈÄâÊã©È¢ò
                            question.type = 'ÂçïÈÄâ';
                            question.options = [];
                            if (apiData.option1) question.options.push(apiData.option1.replace(/^A„ÄÅ/, ''));
                            if (apiData.option2) question.options.push(apiData.option2.replace(/^B„ÄÅ/, ''));
                            if (apiData.option3) question.options.push(apiData.option3.replace(/^C„ÄÅ/, ''));
                            if (apiData.option4) question.options.push(apiData.option4.replace(/^D„ÄÅ/, ''));
                        } else {
                            // Âà§Êñ≠È¢ò
                            question.type = 'Âà§Êñ≠';
                            // Â∞ÜAPIËøîÂõûÁöÑÁ≠îÊ°àËΩ¨Êç¢‰∏∫Áªü‰∏ÄÊ†ºÂºè
                            question.answer = apiData.answer === 'ÂØπ' ? 'Ê≠£Á°Æ' : 'ÈîôËØØ';
                        }
                        
                        questions.push(question);
                    } else {
                        // APIË∞ÉÁî®Â§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§È¢òÁõÆ
                        if (data) console.error('APIË∞ÉÁî®Â§±Ë¥•:', data.msg);
                        // Ê∑ªÂä†ÈªòËÆ§È¢òÁõÆ
                        questions.push({
                            id: i + 1,
                            type: 'Âà§Êñ≠',
                            text: `${i + 1}„ÄÅÊú∫Âä®ËΩ¶Âú®ÈÅìË∑Ø‰∏äÂèëÁîüÊïÖÈöúÊó∂ÔºåÂ∫îÂΩìÂºÄÂêØÂç±Èô©Êä•Ë≠¶Èó™ÂÖâÁÅØ„ÄÇ`,
                            answer: 'Ê≠£Á°Æ',
                            explain: 'ÈªòËÆ§È¢òÁõÆÁöÑËß£Èáä',
                            chapter: 'ÈªòËÆ§Á´†ËäÇ'
                        });
                    }
                } catch (error) {
                    // Â§ÑÁêÜÂçï‰∏™ÁªìÊûúÁöÑËß£ÊûêÈîôËØØ
                    console.error('Â§ÑÁêÜÈ¢òÁõÆÊï∞ÊçÆÂ§±Ë¥•:', error);
                    // Ê∑ªÂä†ÈªòËÆ§È¢òÁõÆ
                    questions.push({
                        id: i + 1,
                        type: 'Âà§Êñ≠',
                        text: `${i + 1}„ÄÅÊú∫Âä®ËΩ¶Âú®ÈÅìË∑Ø‰∏äÂèëÁîüÊïÖÈöúÊó∂ÔºåÂ∫îÂΩìÂºÄÂêØÂç±Èô©Êä•Ë≠¶Èó™ÂÖâÁÅØ„ÄÇ`,
                        answer: 'Ê≠£Á°Æ',
                        explain: 'ÈªòËÆ§È¢òÁõÆÁöÑËß£Èáä',
                        chapter: 'ÈªòËÆ§Á´†ËäÇ'
                    });
                }
            });
            
            const endTime = performance.now();
            console.log(`Ëé∑Âèñ${count}ÈÅìÈ¢òËÄóÊó∂: ${(endTime - startTime).toFixed(2)}ms`);
            
            return questions;
        }
        
        // Áä∂ÊÄÅÁÆ°ÁêÜ
        let currentExam = null;
        let currentSubject = null;
        let currentQuestion = 0;
        let userAnswers = [];
        let timerInterval = null;
        let remainingTime = 0;
        
        // DOMÂÖÉÁ¥†
        const examTypesSection = document.getElementById('examTypesSection');
        const drivingCategories = document.getElementById('drivingCategories');
        const professionalCategories = document.getElementById('professionalCategories');
        const examInterface = document.getElementById('examInterface');
        const questionArea = document.getElementById('questionArea');
        const examTitle = document.getElementById('examTitle');
        const timerDisplay = document.getElementById('timer');
        const currentNum = document.getElementById('currentNum');
        const totalNum = document.getElementById('totalNum');
        
        // Êñ∞Â¢ûËøõÂ∫¶Êù°ÂíåÈ¢òÁõÆÊµèËßàÂå∫ÂüüDOMÂÖÉÁ¥†
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const questionsGrid = document.getElementById('questionsGrid');
        
        // Êñ∞Â¢ûÂæóÂàÜÊòæÁ§∫DOMÂÖÉÁ¥†
        const scoreDisplay = document.getElementById('score');
        
        // ÂàùÂßãÂåñ‰∫ã‰ª∂ÁõëÂê¨
        document.addEventListener('DOMContentLoaded', function() {
            // ËÄÉËØïÁ±ªÂûãÈÄâÊã©
            document.querySelectorAll('.exam-type-card').forEach(card => {
                card.addEventListener('click', function() {
                    const examType = this.dataset.exam;
                    if (examType === 'driving') {
                        showDrivingCategories();
                    } else if (examType === 'professional') {
                        showProfessionalCategories();
                    }
                });
            });
            
            // ‰æßËæπÊ†èÂØºËà™
            document.querySelectorAll('.exam-nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.exam-nav-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    const examType = this.dataset.exam;
                    if (examType === 'driving') {
                        showDrivingCategories();
                    } else if (examType === 'professional') {
                        showProfessionalCategories();
                    }
                });
            });
            
            // ÁßëÁõÆÊ†áÁ≠æÂàáÊç¢
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    document.querySelectorAll('.category-content').forEach(c => c.classList.remove('active'));
                    document.getElementById(this.dataset.category).classList.add('active');
                });
            });
            
            // Á°ÆËÆ§Â§çÈÄâÊ°Ü
            document.getElementById('subject1Confirm').addEventListener('change', function() {
                document.getElementById('startSubject1').disabled = !this.checked;
            });
            
            document.getElementById('subject4Confirm').addEventListener('change', function() {
                document.getElementById('startSubject4').disabled = !this.checked;
            });
            
            document.getElementById('creativeConfirm').addEventListener('change', function() {
                document.getElementById('startCreative').disabled = !this.checked;
            });
            
            document.getElementById('technicalConfirm').addEventListener('change', function() {
                document.getElementById('startTechnical').disabled = !this.checked;
            });
            
            // ÂºÄÂßãËÄÉËØïÊåâÈíÆ
            document.getElementById('startSubject1').addEventListener('click', async function() {
                await startExam('subject1');
            });
            
            document.getElementById('startSubject4').addEventListener('click', async function() {
                await startExam('subject4');
            });
            
            document.getElementById('startCreative').addEventListener('click', async function() {
                await startExam('creative');
            });
            
            document.getElementById('startTechnical').addEventListener('click', async function() {
                await startExam('technical');
            });
            
            // ÂØºËà™ÊåâÈíÆ
            document.getElementById('prevBtn').addEventListener('click', async function() {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    await renderQuestion();
                }
            });
            
            document.getElementById('nextBtn').addEventListener('click', async function() {
                if (currentQuestion < currentExam.totalQuestions - 1) {
                    currentQuestion++;
                    await renderQuestion();
                }
            });
            
            // ‰∫§Âç∑ÊåâÈíÆ
            document.getElementById('submitBtn').addEventListener('click', submitExam);
        });
        
        function showDrivingCategories() {
            examTypesSection.style.display = 'none';
            drivingCategories.classList.add('show');
            professionalCategories.classList.remove('show');
            examInterface.classList.remove('show');
        }
        
        function showProfessionalCategories() {
            examTypesSection.style.display = 'none';
            drivingCategories.classList.remove('show');
            professionalCategories.classList.add('show');
            examInterface.classList.remove('show');
        }
        
        // ÂÖ®Â±èÁõëÊéßÁ≥ªÁªüÂèòÈáè
        let isFullscreen = false;
        let fullscreenExitAttempts = 0;
        
        // ÂÖºÂÆπ‰∏çÂêåÊµèËßàÂô®ÁöÑÂÖ®Â±èAPI
        function requestFullscreen(element) {
            if (element.requestFullscreen) {
                return element.requestFullscreen();
            } else if (element.webkitRequestFullscreen) {
                return element.webkitRequestFullscreen();
            } else if (element.mozRequestFullScreen) {
                return element.mozRequestFullScreen();
            } else if (element.msRequestFullscreen) {
                return element.msRequestFullscreen();
            }
        }
        
        function exitFullscreen() {
            if (document.exitFullscreen) {
                return document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                return document.webkitExitFullscreen();
            } else if (document.mozCancelFullScreen) {
                return document.mozCancelFullScreen();
            } else if (document.msExitFullscreen) {
                return document.msExitFullscreen();
            }
        }
        
        function isDocumentFullscreen() {
            return !!(document.fullscreenElement || 
                    document.webkitFullscreenElement || 
                    document.mozFullScreenElement || 
                    document.msFullscreenElement);
        }
        
        // ÊòæÁ§∫Ë≠¶Âëä‰ø°ÊÅØ
        function showWarningMessage() {
            // ËÆ∞ÂΩïËøùËßÑË°å‰∏∫
            fullscreenExitAttempts++;
            
            // ÂàõÂª∫Ë≠¶ÂëäÊ®°ÊÄÅÊ°Ü
            const warningModal = document.createElement('div');
            warningModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 9999;
                color: white;
                font-size: 24px;
                text-align: center;
            `;
            warningModal.innerHTML = `
                <div style="background: #dc3545; padding: 30px; border-radius: 10px; max-width: 500px;">
                    <h2 style="margin-bottom: 20px;">‚ö†Ô∏è ËÄÉËØïË≠¶Âëä</h2>
                    <p>ÊÇ®Â∞ùËØïÈÄÄÂá∫ÂÖ®Â±èÊ®°ÂºèÔºåËøôËøùÂèç‰∫ÜËÄÉËØïËßÑÂÆöÔºÅ</p>
                    <p style="margin: 20px 0;">ËøùËßÑÊ¨°Êï∞Ôºö${fullscreenExitAttempts}/3</p>
                    <p>ÂÜçÊ¨°ËøùËßÑÂ∞ÜËá™Âä®Êèê‰∫§ËØïÂç∑ÔºÅ</p>
                    <button onclick="this.parentElement.parentElement.remove()" 
                            style="margin-top: 20px; padding: 10px 20px; font-size: 18px; 
                                   background: white; color: #dc3545; border: none; 
                                   border-radius: 5px; cursor: pointer;">
                        ÊàëÁü•ÈÅì‰∫Ü
                    </button>
                </div>
            `;
            
            document.body.appendChild(warningModal);
            
            // 3ÁßíÂêéËá™Âä®ÂÖ≥Èó≠Ë≠¶Âëä
            setTimeout(() => {
                if (warningModal.parentNode) {
                    warningModal.remove();
                }
            }, 3000);
        }
        
        // Â§ÑÁêÜÂÖ®Â±èÈÄÄÂá∫
        function handleFullscreenExit() {
            if (!isDocumentFullscreen()) {
                // Ê£ÄÊµãÂà∞ÂÖ®Â±èÈÄÄÂá∫
                showWarningMessage();
                
                // Â∞ùËØïÈáçÊñ∞ËøõÂÖ•ÂÖ®Â±è
                setTimeout(() => {
                    if (!isDocumentFullscreen()) {
                        // Â¶ÇÊûúÊó†Ê≥ïÈáçÊñ∞ËøõÂÖ•ÂÖ®Â±èÔºåËá™Âä®‰∫§Âç∑
                        alert('ÊÇ®Â∑≤ÈÄÄÂá∫ÂÖ®Â±èÊ®°ÂºèÔºåËÄÉËØïÂ∞ÜËá™Âä®Êèê‰∫§ÔºÅ');
                        submitExam();
                    }
                }, 1000);
            } else {
                isFullscreen = true;
            }
        }
        
        // ÈòªÊ≠¢ÁâπÂÆöÈîÆÁõò‰∫ã‰ª∂
        function handleKeyDown(event) {
            if (isFullscreen) {
                // ÈòªÊ≠¢ESCÈîÆ
                if (event.key === 'Escape' || event.keyCode === 27) {
                    event.preventDefault();
                    showWarningMessage();
                }
                // ÈòªÊ≠¢F11ÈîÆ
                if (event.key === 'F11' || event.keyCode === 122) {
                    event.preventDefault();
                    showWarningMessage();
                }
                // ÈòªÊ≠¢Alt+Tab (Êó†Ê≥ïÂÆåÂÖ®ÈòªÊ≠¢Ôºå‰ΩÜÂèØ‰ª•Ë≠¶Âëä)
                if (event.altKey && event.key === 'Tab') {
                    showWarningMessage();
                }
                // ÈòªÊ≠¢Ctrl+W (ÂÖ≥Èó≠Ê†áÁ≠æÈ°µ)
                if (event.ctrlKey && event.key === 'w') {
                    event.preventDefault();
                    showWarningMessage();
                }
                // ÈòªÊ≠¢Ctrl+Shift+I (ÂºÄÂèëËÄÖÂ∑•ÂÖ∑)
                if ((event.ctrlKey || event.metaKey) && event.shiftKey && event.key === 'I') {
                    event.preventDefault();
                    showWarningMessage();
                }
            }
        }
        
        async function startExam(subject) {
            // ÊòæÁ§∫ÁªÑÂç∑Âä®Áîª
            showLoadingAnimation();
            
            currentSubject = subject;
            currentExam = examData[subject];
            currentQuestion = 0;
            userAnswers = new Array(currentExam.totalQuestions).fill(null);
            fullscreenExitAttempts = 0; // ÈáçÁΩÆËøùËßÑÊ¨°Êï∞
            
            // ÂàùÂßãÂåñÈóÆÈ¢òÊï∞ÁªÑ
            currentExam.questions = new Array(currentExam.totalQuestions).fill(null);
            
            // ËÆ°ÁÆóÂàùÂßãÂä†ËΩΩÊï∞Èáè
            const initialLoadCount = currentExam.initialLoad || currentExam.totalQuestions;
            
            try {
                // ÁîüÊàêÂàùÂßãÈ¢òÂ∫ì - ‰ΩøÁî®ÂºÇÊ≠•Ë∞ÉÁî®
                const initialQuestions = await generateQuestions(subject, initialLoadCount);
                
                // Â∞ÜÂàùÂßãÈ¢òÁõÆÂ°´ÂÖÖÂà∞ÈóÆÈ¢òÊï∞ÁªÑ
                initialQuestions.forEach((question, index) => {
                    currentExam.questions[index] = question;
                });
                
                drivingCategories.classList.remove('show');
                if (professionalCategories) {
                    professionalCategories.classList.remove('show');
                }
                examInterface.classList.add('show');
                
                // ÂàùÂßãÂåñÁïåÈù¢
                examTitle.textContent = currentExam.title;
                totalNum.textContent = currentExam.totalQuestions;
                remainingTime = currentExam.time * 60;
                
                // ÂàùÂßãÂåñÈ¢òÁõÆÊµèËßàÂå∫Âüü
                initializeQuestionsBrowser();
                
                // ÂºÄÂßãËÆ°Êó∂Âô®
                startTimer();
                
                // Ê∏≤ÊüìÁ¨¨‰∏ÄÈ¢ò
                await renderQuestion();
                
                // ÊøÄÊ¥ªÂÖ®Â±èÊ®°Âºè
                const examContainer = document.querySelector('.exam-container');
                if (examContainer) {
                    requestFullscreen(examContainer).then(() => {
                        isFullscreen = true;
                    }).catch(error => {
                        console.error('Êó†Ê≥ïËøõÂÖ•ÂÖ®Â±èÊ®°Âºè:', error);
                        alert('ËÄÉËØïÁõëÊéßÁ≥ªÁªüÈúÄË¶ÅÂÖ®Â±èÊùÉÈôêÔºåËØ∑ÂÖÅËÆ∏ÊµèËßàÂô®ÂÖ®Â±èËØ∑Ê±ÇÔºÅ');
                    });
                }
                
                // Ê∑ªÂä†ÂÖ®Â±èÂèòÂåñ‰∫ã‰ª∂ÁõëÂê¨Âô®
                document.addEventListener('fullscreenchange', handleFullscreenExit);
                document.addEventListener('webkitfullscreenchange', handleFullscreenExit);
                document.addEventListener('mozfullscreenchange', handleFullscreenExit);
                document.addEventListener('MSFullscreenChange', handleFullscreenExit);
                
                // Ê∑ªÂä†ÈîÆÁõò‰∫ã‰ª∂ÁõëÂê¨Âô®
                document.addEventListener('keydown', handleKeyDown);
                
                // Â¶ÇÊûúËøòÊúâÈ¢òÁõÆÈúÄË¶ÅÂä†ËΩΩÔºåÂú®ÂêéÂè∞ÂºÇÊ≠•Âä†ËΩΩÂâ©‰ΩôÈ¢òÁõÆ
                if (initialLoadCount < currentExam.totalQuestions) {
                    loadRemainingQuestions(subject, initialLoadCount);
                }
            } catch (error) {
                console.error('ÂºÄÂßãËÄÉËØïÂ§±Ë¥•:', error);
                alert('ËÄÉËØïÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï');
            } finally {
                // ÈöêËóèÁªÑÂç∑Âä®Áîª
                hideLoadingAnimation();
            }
        }
        
        // ÊòæÁ§∫ÁªÑÂç∑Âä®Áîª
        function showLoadingAnimation() {
            // ÂàõÂª∫Âä†ËΩΩÂä®ÁîªÂÖÉÁ¥†
            const loadingOverlay = document.createElement('div');
            loadingOverlay.className = 'loading-overlay';
            loadingOverlay.innerHTML = `
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Ê≠£Âú®ÁªÑÂç∑‰∏≠</div>
                    <div class="loading-subtext">
                        Á≥ªÁªüÊ≠£Âú®‰∏∫ÊÇ®ÂáÜÂ§áÈ¢òÁõÆ
                        <span class="loading-dots"></span>
                    </div>
                </div>
            `;
            
            // Â∞ÜÂä®ÁîªÊ∑ªÂä†Âà∞È°µÈù¢
            document.body.appendChild(loadingOverlay);
        }
        
        // ÈöêËóèÁªÑÂç∑Âä®Áîª
        function hideLoadingAnimation() {
            const loadingOverlay = document.querySelector('.loading-overlay');
            if (loadingOverlay) {
                // Ê∑ªÂä†Ê∑°Âá∫ÊïàÊûú
                loadingOverlay.style.transition = 'opacity 0.3s ease';
                loadingOverlay.style.opacity = '0';
                
                // Âª∂ËøüÁßªÈô§ÂÖÉÁ¥†ÔºåËÆ©Ê∑°Âá∫Âä®ÁîªÂÆåÊàê
                setTimeout(() => {
                    document.body.removeChild(loadingOverlay);
                }, 300);
            }
        }
        
        // ÂêéÂè∞Âä†ËΩΩÂâ©‰ΩôÈ¢òÁõÆ
        async function loadRemainingQuestions(subject, loadedCount) {
            const remainingCount = currentExam.totalQuestions - loadedCount;
            const remainingQuestions = await generateQuestions(subject, remainingCount);
            
            // Â∞ÜÂâ©‰ΩôÈ¢òÁõÆÂ°´ÂÖÖÂà∞ÈóÆÈ¢òÊï∞ÁªÑ
            remainingQuestions.forEach((question, index) => {
                currentExam.questions[loadedCount + index] = question;
            });
            
            console.log(`Â∑≤Âä†ËΩΩÊâÄÊúâÈ¢òÁõÆÔºåÂÖ±${currentExam.totalQuestions}ÈÅì`);
        }
        
        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(function() {
                remainingTime--;
                updateTimerDisplay();
                
                if (remainingTime <= 0) {
                    clearInterval(timerInterval);
                    submitExam();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const minutes = Math.floor(remainingTime / 60);
            const seconds = remainingTime % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // ÂàùÂßãÂåñÈ¢òÁõÆÊµèËßàÂå∫Âüü
        function initializeQuestionsBrowser() {
            // Ê∏ÖÁ©∫Áé∞ÊúâÂÜÖÂÆπ
            questionsGrid.innerHTML = '';
            
            // ÁîüÊàêÈ¢òÁõÆÁºñÂè∑
            for (let i = 0; i < currentExam.totalQuestions; i++) {
                const questionNum = document.createElement('div');
                questionNum.className = 'question-number ' + (i === 0 ? 'active' : 'unanswered');
                questionNum.textContent = i + 1;
                questionNum.dataset.questionIndex = i;
                
                // Ê∑ªÂä†ÁÇπÂáª‰∫ã‰ª∂
                questionNum.addEventListener('click', function() {
                    const questionIndex = parseInt(this.dataset.questionIndex);
                    if (questionIndex !== currentQuestion) {
                        currentQuestion = questionIndex;
                        renderQuestion();
                        
                        // ÊòæÁ§∫Â∫ïÈÉ®ÂØºËà™ÊåâÈíÆÔºàÂ¶ÇÊûú‰πãÂâçÈöêËóè‰∫ÜÔºâ
                        document.querySelector('.exam-footer').style.display = 'flex';
                    }
                });
                
                questionsGrid.appendChild(questionNum);
            }
        }
        
        // Êõ¥Êñ∞ËøõÂ∫¶Êù°
        function updateProgressBar() {
            // ËÆ°ÁÆóÂ∑≤ÂÆåÊàêÈ¢òÁõÆÊï∞Èáè
            const answeredCount = userAnswers.filter(answer => answer !== null).length;
            
            // ËÆ°ÁÆóËøõÂ∫¶ÁôæÂàÜÊØî
            const progressPercent = Math.round((answeredCount / currentExam.totalQuestions) * 100);
            
            // Êõ¥Êñ∞ËøõÂ∫¶Êù°
            progressFill.style.width = progressPercent + '%';
            progressText.textContent = progressPercent + '%';
            
            // Êõ¥Êñ∞È¢òÁõÆÊµèËßàÂå∫Âüü‰∏≠Â∑≤Á≠îÂíåÊú™Á≠îÁöÑÁä∂ÊÄÅ
            const questionNumbers = document.querySelectorAll('.question-number');
            questionNumbers.forEach((num, index) => {
                num.classList.remove('answered', 'unanswered', 'active');
                
                if (index === currentQuestion) {
                    num.classList.add('active');
                }
                
                if (userAnswers[index] !== null) {
                    num.classList.add('answered');
                } else {
                    num.classList.add('unanswered');
                }
            });
        }
        
        // Êõ¥Êñ∞ÂæóÂàÜ
        function updateScore() {
            // ËÆ°ÁÆóÊ≠£Á°ÆÁ≠îÊ°àÊï∞Èáè
            let correctCount = 0;
            currentExam.questions.forEach((question, index) => {
                if (question && userAnswers[index] === question.answer) {
                    correctCount++;
                }
            });
            
            // Êõ¥Êñ∞ÂæóÂàÜÊòæÁ§∫
            scoreDisplay.textContent = correctCount;
        }
        
        async function renderQuestion() {
            let question = currentExam.questions[currentQuestion];
            
            // Êõ¥Êñ∞ÂΩìÂâçÈ¢òÁõÆÊï∞ÈáèÊòæÁ§∫
            document.getElementById('currentNum').textContent = currentQuestion + 1;
            
            // Êõ¥Êñ∞ËøõÂ∫¶Êù°
            updateProgressBar();
            
            // Êõ¥Êñ∞ÂæóÂàÜ
            updateScore();
            
            // Ê£ÄÊü•È¢òÁõÆÊòØÂê¶Â∑≤Âä†ËΩΩÔºåÂ¶ÇÊûúÊú™Âä†ËΩΩÂàôÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅÂπ∂Âä®ÊÄÅÂä†ËΩΩ
            if (!question) {
                questionArea.innerHTML = '<div style="text-align: center; padding: 50px; font-size: 18px;">Ê≠£Âú®Âä†ËΩΩÈ¢òÁõÆÔºåËØ∑Á®çÂÄô... ‚è≥</div>';
                
                // Âä®ÊÄÅÂä†ËΩΩÂΩìÂâçÈ¢òÁõÆ
                try {
                    const loadedQuestion = await generateQuestions(currentSubject, 1);
                    currentExam.questions[currentQuestion] = loadedQuestion[0];
                    question = loadedQuestion[0];
                    
                    // Âä†ËΩΩÂÆåÊàêÂêéÈáçÊñ∞Ê∏≤Êüì
                    renderQuestion();
                    return;
                } catch (error) {
                    console.error('Âä®ÊÄÅÂä†ËΩΩÈ¢òÁõÆÂ§±Ë¥•:', error);
                    // ÊòæÁ§∫ÈîôËØØÊèêÁ§∫
                    questionArea.innerHTML = '<div style="text-align: center; padding: 50px; font-size: 18px; color: #dc3545;">È¢òÁõÆÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÁÇπÂáª‰∏ä‰∏ÄÈ¢òÊàñ‰∏ã‰∏ÄÈ¢òÈáçËØï„ÄÇ</div>';
                    return;
                }
            }
            
            const userAnswer = userAnswers[currentQuestion];
            
            // Ê∏≤ÊüìÈ¢òÁõÆ
            // Â§ÑÁêÜÈ¢òÁõÆÊñáÊú¨‰∏≠ÁöÑÂõæÁâáÔºåÂ∞ÜÂÖ∂ÂåÖË£πÂú®ÂÆπÂô®‰∏≠‰ª•‰æøÊ∑ªÂä†Ê∞¥Âç∞
            const processedText = question.text.replace(/<img/g, '<div class="image-with-watermark"><img class="question-image" onerror="this.style.display=\'none\';"').replace(/<\/img>/g, '</img></div>');
            
            let html = `
                <div class="question-card">
                    <div class="question-header">
                        <span class="question-num-badge">Á¨¨${question.id}È¢ò</span>
                        <span class="question-type">${question.type === 'Âà§Êñ≠' ? 'Âà§Êñ≠È¢ò' : question.type === 'ÂçïÈÄâ' ? 'ÂçïÈÄâÈ¢ò' : 'Â§öÈÄâÈ¢ò'}</span>
                    </div>
                    <div class="question-content">${processedText}</div>
                    ${question.chapter ? `<div style="color: #3498db; font-size: 14px; margin-bottom: 15px;">üìö ${question.chapter}</div>` : ''}
                    <div class="options">
            `;
            
            if (question.type === 'Âà§Êñ≠') {
                const optionA = { letter: 'A', text: 'Ê≠£Á°Æ', selected: userAnswer === 'Ê≠£Á°Æ' };
                const optionB = { letter: 'B', text: 'ÈîôËØØ', selected: userAnswer === 'ÈîôËØØ' };
                
                [optionA, optionB].forEach(opt => {
                    html += `
                        <label class="option ${opt.selected ? 'selected' : ''}" onclick="selectOption('${opt.text}')">
                            <input type="radio" name="question${question.id}" value="${opt.text}" ${opt.selected ? 'checked' : ''}>
                            <span class="option-letter">${opt.letter}</span>
                            <span class="option-text">${opt.text}</span>
                        </label>
                    `;
                });
            } else if (question.options) {
                const letters = ['A', 'B', 'C', 'D'];
                question.options.forEach((opt, index) => {
                    html += `
                        <label class="option ${userAnswer === letters[index] ? 'selected' : ''}" onclick="selectOption('${letters[index]}')">
                            <input type="radio" name="question${question.id}" value="${letters[index]}" ${userAnswer === letters[index] ? 'checked' : ''}>
                            <span class="option-letter">${letters[index]}</span>
                            <span class="option-text">${opt}</span>
                        </label>
                    `;
                });
            }
            
            // Ê∑ªÂä†ÂèçÈ¶àÂå∫Âüü
            html += `
                    </div>
                    <!-- Á≠îÈ¢òÂèçÈ¶àÂå∫Âüü -->
                    <div id="feedbackArea" style="display: none; margin-top: 25px; padding: 20px; background: #f8f9fa; border-left: 4px solid #3498db; border-radius: 4px;">
                        <h4 style="color: #3498db; margin-bottom: 15px;">üìã Á≠îÈ¢òÂèçÈ¶à</h4>
                        <div style="margin-bottom: 15px;">
                            <strong>ÊÇ®ÁöÑÁ≠îÊ°àÔºö</strong> <span id="userAnswerDisplay"></span>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <strong>Ê≠£Á°ÆÁ≠îÊ°àÔºö</strong> <span id="correctAnswerDisplay"></span>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <strong>Ëß£ÊûêÔºö</strong> <div id="explanationDisplay" style="margin-top: 10px; line-height: 1.6; color: #555;"></div>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <strong>Áõ∏ÂÖ≥Ê¶ÇÂøµÔºö</strong> <div id="conceptsDisplay" style="margin-top: 10px; line-height: 1.6; color: #555;"></div>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <strong>Â∏∏ËßÅÈîôËØØÔºö</strong> <div id="commonMistakesDisplay" style="margin-top: 10px; line-height: 1.6; color: #e74c3c;"></div>
                        </div>
                        <div style="display: flex; justify-content: flex-end;">
                            <button id="nextQuestionBtn" class="nav-btn" onclick="nextQuestion()">‰∏ã‰∏ÄÈ¢ò ‚Üí</button>
                        </div>
                    </div>
                </div>
            `;
            
            questionArea.innerHTML = html;
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').disabled = currentQuestion === currentExam.totalQuestions - 1;
        }
        
        async function selectOption(answer) {
            userAnswers[currentQuestion] = answer;
            const question = currentExam.questions[currentQuestion];
            
            // Êõ¥Êñ∞ËøõÂ∫¶Êù°ÂíåÈ¢òÁõÆÊµèËßàÂå∫ÂüüÁä∂ÊÄÅ
            updateProgressBar();
            
            // Êõ¥Êñ∞ÂæóÂàÜ
            updateScore();
            
            // ÊòæÁ§∫ÂèçÈ¶àÂå∫Âüü
            const feedbackArea = document.getElementById('feedbackArea');
            const userAnswerDisplay = document.getElementById('userAnswerDisplay');
            const correctAnswerDisplay = document.getElementById('correctAnswerDisplay');
            const explanationDisplay = document.getElementById('explanationDisplay');
            const conceptsDisplay = document.getElementById('conceptsDisplay');
            const commonMistakesDisplay = document.getElementById('commonMistakesDisplay');
            
            // Êõ¥Êñ∞Áî®Êà∑Á≠îÊ°àÂíåÊ≠£Á°ÆÁ≠îÊ°àÊòæÁ§∫
            userAnswerDisplay.textContent = answer;
            userAnswerDisplay.style.color = answer === question.answer ? '#27ae60' : '#e74c3c';
            
            correctAnswerDisplay.textContent = question.answer;
            correctAnswerDisplay.style.color = '#27ae60';
            
            // Êõ¥Êñ∞Ëß£ÊûêÊòæÁ§∫
            explanationDisplay.innerHTML = question.explain || 'ÊöÇÊó†Ëß£Êûê';
            
            // Êõ¥Êñ∞Áõ∏ÂÖ≥Ê¶ÇÂøµÊòæÁ§∫
            let concepts = '';
            if (question.chapter) {
                concepts = `<p>‚Ä¢ Êú¨Á´†‰∏ªÈ¢òÔºö${question.chapter}</p>`;
            }
            // Ê∑ªÂä†‰∏Ä‰∫õÈÄöÁî®Ê¶ÇÂøµ
            if (question.type === 'Âà§Êñ≠') {
                concepts += '<p>‚Ä¢ Âà§Êñ≠È¢òÈÄöÂ∏∏ËÄÉÂØüÂØπÂü∫Êú¨ËßÑÂàôÁöÑÁêÜËß£ÂíåËÆ∞ÂøÜ</p>';
            } else {
                concepts += '<p>‚Ä¢ ÈÄâÊã©È¢òÈúÄË¶ÅÁêÜËß£ÊØè‰∏™ÈÄâÈ°πÁöÑÂê´‰πâÂπ∂ËøõË°åÊØîËæÉ</p>';
            }
            conceptsDisplay.innerHTML = concepts;
            
            // Êõ¥Êñ∞Â∏∏ËßÅÈîôËØØÊòæÁ§∫
            let mistakes = '';
            if (answer !== question.answer) {
                mistakes += '<p>‚Ä¢ Ê≥®ÊÑè‰ªîÁªÜÈòÖËØªÈ¢òÁõÆÔºåÈÅøÂÖçÁêÜËß£ÂÅèÂ∑Æ</p>';
                mistakes += '<p>‚Ä¢ Ê≥®ÊÑèÂå∫ÂàÜÁõ∏‰ººÊ¶ÇÂøµÂíåÊòìÊ∑∑Ê∑ÜÁü•ËØÜÁÇπ</p>';
                mistakes += '<p>‚Ä¢ ÈÅøÂÖçÊ†πÊçÆÁªèÈ™åÊàñÁõ¥ËßâÁ≠îÈ¢òÔºåË¶Å‰æùÊçÆÊïôÊùêÂÜÖÂÆπ</p>';
            }
            commonMistakesDisplay.innerHTML = mistakes || 'ÊöÇÊó†Â∏∏ËßÅÈîôËØØÊèêÁ§∫';
            
            // ÊòæÁ§∫ÂèçÈ¶àÂå∫Âüü
            feedbackArea.style.display = 'block';
            
            // Á¶ÅÁî®ÈÄâÈ°πÁÇπÂáªÔºåÈò≤Ê≠¢ÈáçÂ§çÈÄâÊã©
            document.querySelectorAll('.option').forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // ÈöêËóèÂ∫ïÈÉ®ÂØºËà™ÊåâÈíÆÔºå‰ΩøÁî®ÂèçÈ¶àÂå∫ÂüüÁöÑ‰∏ã‰∏ÄÈ¢òÊåâÈíÆ
            document.querySelector('.exam-footer').style.display = 'none';
        }
        
        // ‰∏ã‰∏ÄÈ¢òÂáΩÊï∞
        async function nextQuestion() {
            // Ê£ÄÊü•ÊòØÂê¶ÊòØÊúÄÂêé‰∏ÄÈ¢ò
            if (currentQuestion < currentExam.totalQuestions - 1) {
                // ËøõÂÖ•‰∏ã‰∏ÄÈ¢ò
                currentQuestion++;
                
                // ÈáçÊñ∞Ê∏≤ÊüìÈ¢òÁõÆÔºåÈöêËóèÂèçÈ¶àÂå∫Âüü
                await renderQuestion();
                
                // ÊòæÁ§∫Â∫ïÈÉ®ÂØºËà™ÊåâÈíÆ
                document.querySelector('.exam-footer').style.display = 'flex';
            } else {
                // ÊúÄÂêé‰∏ÄÈ¢òÔºåÊòæÁ§∫ËÄÉËØïÁªìÊùüÁïåÈù¢
                submitExam();
            }
        }
        
        function submitExam() {
            clearInterval(timerInterval);
            
            // ÈÄÄÂá∫ÂÖ®Â±èÊ®°Âºè
            if (isFullscreen && isDocumentFullscreen()) {
                exitFullscreen();
            }
            isFullscreen = false;
            
            // ÁßªÈô§‰∫ã‰ª∂ÁõëÂê¨Âô®
            document.removeEventListener('fullscreenchange', handleFullscreenExit);
            document.removeEventListener('webkitfullscreenchange', handleFullscreenExit);
            document.removeEventListener('mozfullscreenchange', handleFullscreenExit);
            document.removeEventListener('MSFullscreenChange', handleFullscreenExit);
            document.removeEventListener('keydown', handleKeyDown);
            
            // ËÆ°ÁÆóÂàÜÊï∞
            let correct = 0;
            let unanswered = 0;
            let answered = 0;
            
            currentExam.questions.forEach((question, index) => {
                if (userAnswers[index] === undefined || userAnswers[index] === null || userAnswers[index] === '') {
                    unanswered++;
                } else {
                    answered++;
                    if (userAnswers[index] === question.answer) {
                        correct++;
                    }
                }
            });
            
            const score = correct;
            const total = currentExam.totalQuestions;
            const passed = score >= currentExam.passingScore;
            const accuracy = Math.round((correct / total) * 100);
            const usedTime = currentExam.totalTime - remainingTime;
            
            // ËÆ°ÁÆóÁî®Êó∂ÔºàÂàÜÈíü:ÁßíÔºâ
            const minutes = Math.floor(usedTime / 60);
            const seconds = usedTime % 60;
            const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // ÊòæÁ§∫ÁªìÊûú - Ê∑ªÂä†ÁªìÁÆó‰ø°ÊÅØ
            let resultHtml = `
                <div class="question-card" style="text-align: center; padding: 30px;">
                    <h2 style="color: ${passed ? '#28a745' : '#dc3545'}; margin-bottom: 30px; font-size: 24px;">
                        ${passed ? 'üéâ ÊÅ≠ÂñúÂÆåÊàêÁªÉ‰π†ÔºÅ' : 'üò¢ ÁªÉ‰π†ÁªìÊùü'}
                    </h2>
                    
                    <!-- ÁªìÁÆó‰ø°ÊÅØÂç°Áâá -->
                    <div style="background: linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%); border-radius: 16px; padding: 25px; margin-bottom: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <div style="font-size: 28px; margin-bottom: 15px; font-weight: bold;">
                            ${score} / ${total}
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px;">
                            <div style="background: white; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                                <div style="font-size: 14px; color: #666; margin-bottom: 5px;">Ê≠£Á°ÆÁéá</div>
                                <div style="font-size: 24px; font-weight: bold; color: #667eea;">${accuracy}%</div>
                            </div>
                            <div style="background: white; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                                <div style="font-size: 14px; color: #666; margin-bottom: 5px;">Áî®Êó∂</div>
                                <div style="font-size: 24px; font-weight: bold; color: #667eea;">${formattedTime}</div>
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                            <div style="text-align: center;">
                                <div style="font-size: 18px; font-weight: bold; color: #28a745;">${correct}</div>
                                <div style="font-size: 12px; color: #666;">Ê≠£Á°Æ</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 18px; font-weight: bold; color: #dc3545;">${answered - correct}</div>
                                <div style="font-size: 12px; color: #666;">ÈîôËØØ</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 18px; font-weight: bold; color: #ffc107;">${unanswered}</div>
                                <div style="font-size: 12px; color: #666;">Êú™Á≠î</div>
                            </div>
                        </div>
                    </div>
                    
                    <p style="color: #666; margin-bottom: 30px; line-height: 1.6;">
                        ${passed ? 'ÊÇ®Â∑≤ÂÆåÊàêÊú¨Ê¨°ÁªÉ‰π†ÔºåÊ≠£Á°ÆÁéáËææÂà∞‰∫Ü' + accuracy + '%ÔºåË°®Áé∞‰ºòÁßÄÔºÅËØ∑ÁªßÁª≠Âä†Ê≤πÔºÅ' : `Êú¨Ê¨°ÁªÉ‰π†Ê≠£Á°ÆÁéá‰∏∫${accuracy}%ÔºåÁªßÁª≠Âä™ÂäõÔºå‰∫âÂèñ‰∏ãÊ¨°ÂèñÂæóÊõ¥Â•ΩÁöÑÊàêÁª©ÔºÅ`}
                    </p>
                    <div style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px;">
                        <button class="confirm-btn" onclick="startExam('${currentSubject}')" style="padding: 15px 30px; width: 100%; max-width: 300px; margin: 0 auto;">
                            ÈáçÊñ∞ÁªÉ‰π†
                        </button>
                        <button class="nav-btn" onclick="location.reload()" style="padding: 15px 30px; width: 100%; max-width: 300px; margin: 0 auto;">
                            ËøîÂõûÈ¶ñÈ°µ
                        </button>
                    </div>
                </div>
            `;
            
            // Ê∑ªÂä†È¢òÁõÆËß£Êûê
            resultHtml += '<div style="margin-top: 30px;">';
            resultHtml += '<h3 style="color: #667eea; margin-bottom: 20px; text-align: center;">üìù È¢òÁõÆËß£Êûê</h3>';
            
            currentExam.questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.answer;
                
                resultHtml += `
                    <div class="question-card" style="margin-bottom: 20px; border-left: 4px solid ${isCorrect ? '#28a745' : '#dc3545'};">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span class="question-num-badge">Á¨¨${index + 1}È¢ò</span>
                            <span style="color: ${isCorrect ? '#28a745' : '#dc3545'}; font-weight: bold;">
                                ${isCorrect ? '‚úÖ Ê≠£Á°Æ' : '‚ùå ÈîôËØØ'}
                            </span>
                        </div>
                        <div class="question-content" style="margin-bottom: 15px;">${question.text}</div>
                        ${question.chapter ? `<div style="color: #667eea; font-size: 14px; margin-bottom: 10px;">üìö ${question.chapter}</div>` : ''}
                        <div style="margin-bottom: 15px;">
                            <strong>ÊÇ®ÁöÑÁ≠îÊ°àÔºö</strong>${userAnswer || 'Êú™‰ΩúÁ≠î'}
                        </div>
                        <div style="margin-bottom: 15px;">
                            <strong>Ê≠£Á°ÆÁ≠îÊ°àÔºö</strong>${question.answer}
                        </div>
                        ${question.explain ? `
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 15px;">
                                <strong>Ëß£ÊûêÔºö</strong>${question.explain}
                            </div>
                        ` : ''}
                    </div>
                `;
            });
            
            resultHtml += '</div>';
            
            questionArea.innerHTML = resultHtml;
            document.getElementById('submitBtn').style.display = 'none';
        }
    </script>
    
    <!-- ‰ºòÂåñÂêéÁöÑÊÇ¨ÊµÆÂπøÂëä -->
    <div id="idy_floatdiv" style="position:fixed;left:0;bottom:20%;width:40px;height:120px;background:linear-gradient(180deg, #667eea 0%, #764ba2 100%);line-height: 30px;writing-mode:vertical-rl;text-align:center;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;font-size:16px;font-weight:600;box-shadow: 4px 4px 16px rgba(102, 126, 234, 0.4);border-radius: 0 12px 12px 0;transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);z-index: 999;cursor:pointer;">
        <a href="https://www.wenjuan.com/s/UZBZJvkySyB/" target="blank" style="color:#ffffff;text-decoration:none;display:block;width:100%;height:100%;padding:15px 8px;transition: all 0.3s ease;">
            <span style="display:inline-block;transition: transform 0.3s ease;">Âä†ÂÖ•Êàë‰ª¨</span>
        </a>
    </div>
    
    <style>
        #idy_floatdiv:hover {
            transform: translateX(5px);
            box-shadow: 6px 6px 20px rgba(102, 126, 234, 0.5);
            background:linear-gradient(180deg, #764ba2 0%, #667eea 100%);
        }
        
        #idy_floatdiv:hover span {
            transform: translateY(-3px);
        }
        
        @media (max-width: 768px) {
            #idy_floatdiv {
                width: 36px;
                height: 100px;
                font-size: 14px;
                line-height: 26px;
            }
            
            #idy_floatdiv a {
                padding: 12px 6px;
            }
        }
        
        @media (max-width: 480px) {
            #idy_floatdiv {
                width: 32px;
                height: 90px;
                font-size: 13px;
                line-height: 24px;
            }
            
            #idy_floatdiv a {
                padding: 10px 5px;
            }
        }
    </style>
</body>
</html>
